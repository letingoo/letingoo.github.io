---
layout: post
title: Dapper笔记
---

Dapper是Google提出的生产环境下的分布式链路追踪系统，对一个分布式链路追踪系统有以下的需求：

1. 低损耗：对应用性能的损耗应该尽可能低

2. 应用透明：尽可能采用非侵入的方式进行追踪，尽可能做到代码的低侵入，对业务开发人员应该做到透明化

3. 可伸缩：链路追踪系统不应该随着微服务和集群规模的扩大而瘫痪

4. 持续监控：分布式链路追踪系统应该是7*24小时工作的


Trace和Span：
Trace表示一次请求的完整的调用链的追踪，单此服务的请求相应过程称为一次Span。每一次追踪Trace都是一个树形结构。每个Trace都要定义一个全局唯一性的TraceID，
Dapper论文中推荐用64位id整数表示，在一次追踪中所有Span都将获取到这个Trace的ID，每个Span都有一个ParentSpanID和自己的SpanID，